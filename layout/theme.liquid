<!doctype html>
<html class="no-js" lang="{{ request.locale.iso_code }}" dir="{{ settings.text_direction | default: 'ltr' }}">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, height=device-height, minimum-scale=1.0">
  <meta name="theme-color" content="{{ settings.color_primary }}">
  
  <title>
    {{ page_title }}
    {%- if current_tags %} &ndash; tagged "{{ current_tags | join: ', ' }}"{% endif -%}
    {%- if current_page != 1 %} &ndash; Page {{ current_page }}{% endif -%}
    {%- unless page_title contains shop.name %} &ndash; {{ shop.name }}{% endunless -%}
  </title>

  {% if page_description %}
    <meta name="description" content="{{ page_description | escape }}">
  {% endif %}

  <link rel="canonical" href="{{ canonical_url }}">

  {%- comment -%} Open Graph Tags {%- endcomment -%}
  <meta property="og:site_name" content="{{ shop.name }}">
  <meta property="og:url" content="{{ canonical_url }}">
  <meta property="og:title" content="{{ page_title | escape }}">
  <meta property="og:type" content="{% if template.name == 'product' %}product{% elsif template.name == 'article' %}article{% else %}website{% endif %}">
  {%- if page_description -%}
    <meta property="og:description" content="{{ page_description | escape }}">
  {%- endif -%}
  {%- if page_image -%}
    <meta property="og:image" content="https:{{ page_image | image_url: width: 1200 }}">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="628">
  {%- endif -%}
  {%- if template.name == 'product' -%}
    <meta property="og:price:amount" content="{{ product.selected_or_first_available_variant.price | money_without_currency | strip_html }}">
    <meta property="og:price:currency" content="{{ cart.currency.iso_code }}">
  {%- endif -%}

  {%- comment -%} Twitter Card Tags {%- endcomment -%}
  <meta name="twitter:card" content="{% if page_image %}summary_large_image{% else %}summary{% endif %}">
  <meta name="twitter:title" content="{{ page_title | escape }}">
  {%- if page_description -%}
    <meta name="twitter:description" content="{{ page_description | escape }}">
  {%- endif -%}
  {%- if page_image -%}
    <meta name="twitter:image" content="https:{{ page_image | image_url: width: 1200 }}">
  {%- endif -%}

  {%- if settings.favicon != blank -%}
    <link rel="icon" type="image/png" href="{{ settings.favicon | image_url: width: 32, height: 32 }}">
  {%- endif -%}

  {%- unless settings.font_heading.system? and settings.font_body.system? -%}
    <link rel="preconnect" href="https://fonts.shopifycdn.com" crossorigin>
  {%- endunless -%}

  {%- render 'css-variables' -%}
  {{ 'base.css' | asset_url | stylesheet_tag: preload: true }}
  {{ 'component-card.css' | asset_url | stylesheet_tag }}
  {{ 'animations.css' | asset_url | stylesheet_tag }}

  {%- if settings.cart_type == 'drawer' -%}
    {{ 'component-cart-drawer.css' | asset_url | stylesheet_tag }}
  {%- endif -%}

  {{ content_for_header }}

  <script>
    document.documentElement.className = document.documentElement.className.replace('no-js', 'js');
    
    window.Lumina = window.Lumina || {};
    window.Lumina.routes = {
      root: '{{ routes.root_url }}',
      cart: '{{ routes.cart_url }}',
      cartAdd: '{{ routes.cart_add_url }}.js',
      cartChange: '{{ routes.cart_change_url }}.js',
      cartUpdate: '{{ routes.cart_update_url }}.js',
      cartGet: '{{ routes.cart_url }}.js',
      search: '{{ routes.search_url }}',
      predictiveSearch: '{{ routes.predictive_search_url }}'
    };
    window.Lumina.cartStrings = {
      error: `{{ 'sections.cart.cart_error' | t }}`,
      quantityError: `{{ 'sections.cart.cart_quantity_error' | t: quantity: '[quantity]' }}`,
      itemAdded: `{{ 'cart.item_added' | t }}`,
      itemRemoved: `{{ 'cart.item_removed' | t | default: 'Item removed from cart' }}`
    };
    window.Lumina.productStrings = {
      addToCart: `{{ 'products.product.add_to_cart' | t }}`,
      soldOut: `{{ 'products.product.sold_out' | t }}`,
      unavailable: `{{ 'products.product.unavailable' | t }}`
    };
    window.Lumina.settings = {
      cartType: '{{ settings.cart_type }}',
      enableAnimations: {{ settings.enable_animations }},
      animationStyle: '{{ settings.animation_style }}',
      animationDuration: {{ settings.animation_duration }}
    };
    window.Lumina.moneyFormat = {{ shop.money_format | json }};
  </script>

  <script src="{{ 'lumina.js' | asset_url }}" defer></script>
</head>

<body class="template-{{ template.name }}{% if template.suffix %} template-{{ template.name }}-{{ template.suffix }}{% endif %}">
  <a class="skip-to-content-link button visually-hidden" href="#MainContent">
    {{ 'accessibility.skip_to_content' | t }}
  </a>

  {%- sections 'header-group' -%}

  <main id="MainContent" class="main-content" role="main" tabindex="-1">
    {{ content_for_layout }}
  </main>

  {%- sections 'footer-group' -%}

  {%- if settings.cart_type == 'drawer' -%}
    {%- render 'cart-drawer' -%}
  {%- endif -%}

  {%- render 'quick-view-modal' -%}
  {%- render 'search-modal' -%}

  <div class="loading-overlay" id="LoadingOverlay" aria-hidden="true">
    <div class="loading-overlay__spinner">
      {%- render 'icon-spinner' -%}
    </div>
  </div>

  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebSite",
      "name": {{ shop.name | json }},
      "url": {{ request.origin | append: page.url | json }},
      "potentialAction": {
        "@type": "SearchAction",
        "target": "{{ request.origin }}{{ routes.search_url }}?q={search_term_string}",
        "query-input": "required name=search_term_string"
      }
    }
  </script>

  {%- if template.name == 'product' -%}
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "Product",
        "name": {{ product.title | json }},
        "image": [
          {{ product.featured_image | image_url: width: 1200 | prepend: "https:" | json }}
        ],
        "description": {{ product.description | strip_html | truncate: 200 | json }},
        "sku": {{ product.selected_or_first_available_variant.sku | json }},
        "brand": {
          "@type": "Brand",
          "name": {{ product.vendor | json }}
        },
        "offers": {
          "@type": "Offer",
          "url": {{ request.origin | append: product.url | json }},
          "priceCurrency": {{ cart.currency.iso_code | json }},
          "price": {{ product.selected_or_first_available_variant.price | divided_by: 100.0 }},
          "availability": "{% if product.selected_or_first_available_variant.available %}https://schema.org/InStock{% else %}https://schema.org/OutOfStock{% endif %}",
          "seller": {
            "@type": "Organization",
            "name": {{ shop.name | json }}
          }
        }
      }
    </script>
  {%- endif -%}
</body>
</html>
